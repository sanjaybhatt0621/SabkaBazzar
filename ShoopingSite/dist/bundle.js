!function(e){var t={};function n(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(s,r,function(t){return e[t]}.bind(null,r));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);class s{constructor(e){this.parent=e,this.render()}render(){$(this.parent).append('<section class="cart-item">\n        <article class="item-img">\n            <img src="images/products/fruit-n-veg/apple.jpg"/>\n        </article>\n        <article class="item-content">\n            <h1>Apple - Washington,Regular,4 pcs</h1>\n            <p>\n                <span class="leftCalc">  \n                    <span class="cartButton">-</span>\n                    <span>1</span>\n                    <span class="cartButton">+</span>\n                        X  <span>Rs. 187</span>\n                </span>   \n                <span class="rightCalc">    \n                <span class="grand-total">Rs.187</span>\n                </span>  \n            </p>\n        </article>\n    </section>\n    \n\n    \n    ')}}class r{constructor(e){this.parent=e,this.render()}render(){$(this.parent).html('<div class= "cartBackground">\n            <div class="overlay-content">\n                <span class="close">&times;</span>\n\n                <main class="cart-wrapper">\n                    <section class="count">\n                        <h1>My Cart  &nbsp;</h1><span>(1 item)</span>\n                    </section>\n                    <section class="item-cart-containner">\n\n                        \n                    </section>\n                    <section class="bottom-logo">\n                        <article class="discount-logo">\n                            <img src="static/images/lowest-price.png"/>\n                        </article>\n                        <span>\n                            You won\'t find cheaper it anywhere\n                        </span>\n                    </section>\n                 </main>   \n                \n                \n                    <footer class="footerCart">\n                    \n                    <p>Promo code can be applied on payment page</p>\n                        <a href="#"><span>Proceed to checkout</span><span>Rs. 187   ></span></a>\n                    </footer>\n                \n            </div>\n         </div>'),$(".close").on("click",()=>{$(".cartBackground")[0].style.display="none",history.back()}),new s(".item-cart-containner")}}class a{constructor(){}parseRequestURL(){let e=(window.location.hash.slice(1).toLowerCase()||"/").split("/"),t={resource:null,id:null,verb:null};return t.resource=e[1],t.id=e[2],t.verb=e[3],t}}class i{constructor(e,t){this.imgUrl=t.bannerImageUrl,this.parent=e,this.render()}render(){let e=`\n        <div class="mySlides fade">\n          \n          \n            <img src=${this.imgUrl} style="width:100%">\n          \n          \n        </div>`;$(this.parent).append(e)}}class c{constructor(){this.categoryURL="http://localhost:5000/categories",this.bannerURL="http://localhost:5000/banners",this.productURL="http://localhost:5000/products",this.addtoCartURL="http://localhost:5000/addToCart"}async getCategoryData(){try{return(await fetch(this.categoryURL)).json()}catch(e){console.log(e)}}async getBannerData(){try{return(await fetch(this.bannerURL)).json()}catch(e){console.log(e)}}async getProductData(){try{return(await fetch(this.productURL)).json()}catch(e){console.log(e)}}async getCartData(){try{return(await fetch(this.addtoCartURL)).json()}catch(e){console.log(e)}}}var o;class l{constructor(e){this.parent=e,this.slideIndex=1,this.servicesFile=new c,this.render(),o=this}render(){this.servicesFile.getBannerData().then(e=>{$(this.parent).append('<div class="slideshow-container">\n        \n        <div id="carouselImage"></div>\n       \n            <a class="prev" id="prevButton">PREV</a>\n            <a class="next" id="nextButton">NEXT</a>\n            \n            \n        </div>\n        <div class ="carouselDots">\n            \n        </div>\n        ');let t=1;e.forEach(e=>{new i("#carouselImage",e);let n=`<span class="dot" id="dot_${t}"></span>`;$(".carouselDots").append(n),$("#dot_"+`${t}`).on("click",{counter:t},o.currentSlide),t++}),this.showSlides(1),$("#prevButton").on("click",{counter:-1},o.plusSlides),$("#nextButton").on("click",{counter:1},o.plusSlides)})}plusSlides(e){o.showSlides(o.slideIndex+=e.data.counter)}currentSlide(e){o.showSlides(o.slideIndex=e.data.counter)}showSlides(e){var t,n=document.getElementsByClassName("mySlides"),s=document.getElementsByClassName("dot");for(e>n.length&&(o.slideIndex=1),e<1&&(o.slideIndex=n.length),t=0;t<n.length;t++)n[t].style.display="none";for(t=0;t<s.length;t++)s[t].className=s[t].className.replace(" active","");n[o.slideIndex-1].style.display="block",s[o.slideIndex-1].className+=" active"}}class d{constructor(e){this.ServicesFile=new c,this.parent=e,this.render()}render(){let e=function(e,t){return e.order<t.order?-1:e.order>t.order?1:0};this.ServicesFile.getCategoryData().then(t=>{t.sort(e),t.forEach(e=>{if("true"==`${e.enabled}`){let t=`\n                    <div class="categoryBorder">\n                    &nbsp;\n                    </div>\n                    \n                        <section class="category ">\n                        \n                    <article class="menu-items">\n                            <img src="${e.imageUrl}"/>\n                        </article>\n                        <article class="description">\n                            <h2>${e.name}</h2>\n                            <p>${e.description}</p>\n                            <a href="">Explore  &nbsp;${e.key}</a>\n                    </article>\n                    </section>\n                    `;$(this.parent).append(t)}})})}}class p{constructor(e,t){this.parent=e,this.request=t,this.render()}render(){$(this.parent).html('<section class="slider"></section><section class="category-containner"></section>'),this.carousel=new l(".slider"),this.banner=new d(".category-containner")}}class h{constructor(e){this.parent=e,this.serviceFile=new c,this.render()}render(){this.serviceFile.getCategoryData().then(e=>{e.forEach(e=>{if("true"==`${e.enabled}`){let t=`<ul>\n                   <li class="init">\n                   <a href = "#/products/${e.id}">${e.name}</a>\n                   </li>\n                   </ul>`;$(this.parent).append(t)}})})}}class u{constructor(e,t){this.parent=e,this.id=t,this.serviceFile=new c,this.Utils=new a,this.render()}render(){const e={context:this};$(this.parent).html(""),this.serviceFile.getProductData(this.id).then(t=>{t.forEach(t=>{let n=this.returnMarkup(t);0!=this.id&&this.id==t.category?$(this.parent).append(n):0==this.id&&$(this.parent).append(n);let s=function(){let e=this.context.Utils.addToCart(t);$(".cartItemCount").html(`(${e.totalQty} Items)`),$(".mainHeaderQty").html(`${e.totalQty} Items`)}.bind(e);$("#add_"+`${t.id}`).on("click",s)})})}returnMarkup(e){return` <section class="itemSection">\n        <section class="itemWrapperDiv">\n        <h1>${e.name}</h1>\n        <section class="descContainner">\n            <article class="productsDiv">\n                    <img src="${e.imageURL}">\n            </article>\n            <article class="productRightMobile">\n                    <article class="productsDescription">\n                    ${e.description}\n                    </article>\n                    <article class="priceandBuySection">\n                        <span class="mrp">MRP Rs.${e.price}</span>\n                        <span><a>Buy Now</a></span>\n                    </article>\n                    <article class="buyNowMobile">\n                        <a href="#">Buy Now @ MRP Rs. <span>87</span></a>\n                    </article>\n            </article> \n        </section>        \n    </section>\n    </section>\n        `}}class m{constructor(e,t){this.parent=e,this.request=t,this.id=this.request&&this.request.id?this.request.id:0,this.render()}render(){$(this.parent).html('<main class="mainProducts">\n                <aside class="leftSection"></aside>\n                <section class="rightSection"></section>\n        </main>'),new h(".leftSection"),new u(".rightSection",this.id)}}n.d(t,"default",function(){return g});class g{constructor(){this.utils=new a,this.render()}render(){let e={"/":p,"/cart":r,"/products/:id":m},t=()=>{document.getElementsByClassName(".mainHome");let t=this.utils.parseRequestURL(),n=(t.resource?"/"+t.resource:"/")+(t.id?"/:id":"")+(t.verb?"/"+t.verb:""),s=e[n]?e[n]:Error404;new s("/cart"==n?"#overlay":".mainHome",t)};window.addEventListener("hashchange",()=>{t()}),window.addEventListener("load",()=>{t()})}}new g}]);